(this["webpackJsonppress-client"]=this["webpackJsonppress-client"]||[]).push([[0],{23:function(e,t,a){e.exports=a(24)},24:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a.n(n),l=a(16),o=a(17),c=a(18),s=a(21),u=a(20),i=a(0),p=a.n(i),m=a(19),d=a.n(m),f=a(22),h=(a(30),a(5)),v=a.n(h),b=(a(48),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={now:0,uploadPercentage:0,done:!1,url:""},e.handleSubmit=function(){var t=Object(l.a)(r.a.mark((function t(a){var n,l,o,c,s,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),(n=new FormData).append("foo",a.target.foo.files[0]),n.append("fileName",a.target.fileName.value),l=a.target.fileName.value,t.prev=5,t.next=8,v.a.post("/upload",n,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(t){e.setState({uploadPercentage:Math.round(100*t.loaded/t.total)})}});case 8:o=t.sent,c=o.data.uuid,s=0,u=setInterval((function(){console.log(s),s<100?v.a.get("/processed-info/".concat(c)).then((function(t){e.setState({now:t.data.percent}),s=t.data.percent})):100===s&&(e.setState({done:!0,url:"http://localhost:5000/uploads/".concat(l,"-processed.mp4")}),clearInterval(u))}),5e3),console.log(c),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(5),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[5,16]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(c.a)(a,[{key:"render",value:function(){return p.a.createElement("div",null,p.a.createElement("form",{encType:"multipart/form-data",onSubmit:this.handleSubmit},p.a.createElement("input",{type:"text",name:"fileName",className:"my-2"}),p.a.createElement("br",null),p.a.createElement("input",{type:"file",name:"foo",className:"my-2"}),p.a.createElement("br",null),p.a.createElement("button",{type:"submit",className:"btn btn-primary my-5"},"Submit")),p.a.createElement("p",null,"Uploaded"),p.a.createElement("div",{style:{width:"300px"}},p.a.createElement(f.a,{animated:!0,now:this.state.uploadPercentage})),p.a.createElement("p",null,"Processed"),p.a.createElement("div",{style:{width:"300px"}},p.a.createElement(f.a,{animated:!0,now:this.state.now})),p.a.createElement("div",{className:"my-5"},this.state.done&&p.a.createElement("p",null,this.state.url)))}}]),a}(p.a.Component));d.a.render(p.a.createElement(b,null),document.querySelector("#root"))},30:function(e,t,a){}},[[23,1,2]]]);
//# sourceMappingURL=main.151e45e7.chunk.js.map